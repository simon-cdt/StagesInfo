{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"text-foreground text-sm leading-4 font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,iKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,4MACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"border-input file:text-foreground placeholder:text-muted-foreground/70 flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        type === \"search\" &&\n          \"[&::-webkit-search-cancel-button]:appearance-none [&::-webkit-search-decoration]:appearance-none [&::-webkit-search-results-button]:appearance-none [&::-webkit-search-results-decoration]:appearance-none\",\n        type === \"file\" &&\n          \"text-muted-foreground/70 file:border-input file:text-foreground p-0 pr-3 italic file:me-3 file:h-full file:border-0 file:border-r file:border-solid file:bg-transparent file:px-3 file:text-sm file:font-medium file:not-italic\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,iXACA,iFACA,0GACA,SAAS,YACP,8MACF,SAAS,UACP,mOACF;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/form/FormField.tsx"],"sourcesContent":["import { Label } from \"@/components/ui/label\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { FieldError } from \"react-hook-form\";\r\n\r\ninterface FormFieldProps {\r\n  label: string;\r\n  name: string;\r\n  type: \"text\" | \"password\" | \"email\" | \"file\";\r\n  placeholder?: string;\r\n  // eslint-disable-next-line\r\n  register: any;\r\n  error?: FieldError;\r\n  icon?: React.ReactNode;\r\n  defaultValue?: string;\r\n}\r\n\r\nexport const FormField = ({\r\n  label,\r\n  name,\r\n  type,\r\n  placeholder,\r\n  register,\r\n  error,\r\n  icon,\r\n  defaultValue,\r\n}: FormFieldProps) => {\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      <Label htmlFor={name}>{label}</Label>\r\n      <div className=\"relative\">\r\n        {icon && (\r\n          <div className=\"text-muted-foreground absolute top-1/2 left-3 -translate-y-1/2\">\r\n            {icon}\r\n          </div>\r\n        )}\r\n        <Input\r\n          id={name}\r\n          type={type}\r\n          placeholder={placeholder}\r\n          {...register(name)}\r\n          className={icon ? \"pl-9\" : \"\"}\r\n          defaultValue={defaultValue}\r\n        />\r\n      </div>\r\n      {error && <p className=\"text-sm text-red-500\">{error.message}</p>}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAeO,MAAM,YAAY,CAAC,EACxB,KAAK,EACL,IAAI,EACJ,IAAI,EACJ,WAAW,EACX,QAAQ,EACR,KAAK,EACL,IAAI,EACJ,YAAY,EACG;IACf,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0HAAA,CAAA,QAAK;gBAAC,SAAS;0BAAO;;;;;;0BACvB,8OAAC;gBAAI,WAAU;;oBACZ,sBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAGL,8OAAC,0HAAA,CAAA,QAAK;wBACJ,IAAI;wBACJ,MAAM;wBACN,aAAa;wBACZ,GAAG,SAAS,KAAK;wBAClB,WAAW,OAAO,SAAS;wBAC3B,cAAc;;;;;;;;;;;;YAGjB,uBAAS,8OAAC;gBAAE,WAAU;0BAAwB,MAAM,OAAO;;;;;;;;;;;;AAGlE","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { CheckIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"pointer peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  );\n}\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,oKAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,ufACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,wMAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/lib/actions/etudiant.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"../auth\";\r\nimport { db } from \"../db\";\r\nimport * as argon2 from \"argon2\";\r\n\r\nexport const getEtudiantSession = async ({\r\n  id,\r\n}: {\r\n  id: string;\r\n}): Promise<\r\n  | { success: false; message: \"Vous n'êtes pas connecté.\" }\r\n  | {\r\n      success: true;\r\n      etudiant: {\r\n        nom: string;\r\n        prenom: string;\r\n        email: string;\r\n        competences: string;\r\n      };\r\n    }\r\n> => {\r\n  const user = await db.etudiant.findUnique({\r\n    where: {\r\n      id,\r\n    },\r\n    select: {\r\n      nom: true,\r\n      prenom: true,\r\n      email: true,\r\n      competences: true,\r\n    },\r\n  });\r\n  if (!user) {\r\n    return { success: false, message: \"Vous n'êtes pas connecté.\" };\r\n  }\r\n\r\n  return {\r\n    success: true,\r\n    etudiant: {\r\n      nom: user.nom,\r\n      prenom: user.prenom,\r\n      email: user.email,\r\n      competences: user.competences,\r\n    },\r\n  };\r\n};\r\n\r\nexport const createEtudiant = async ({\r\n  nom,\r\n  prenom,\r\n  email,\r\n  mdp,\r\n  competences,\r\n  cv,\r\n}: {\r\n  nom: string;\r\n  prenom: string;\r\n  email: string;\r\n  mdp: string;\r\n  competences: string;\r\n  cv: File;\r\n}): Promise<\r\n  | { success: false; message: string }\r\n  | { success: true; message: \"Compte créé avec succès.\" }\r\n> => {\r\n  try {\r\n    const etudiantExiste = await db.etudiant.findUnique({\r\n      where: {\r\n        email,\r\n      },\r\n      select: {\r\n        id: true,\r\n      },\r\n    });\r\n    if (etudiantExiste) {\r\n      return { success: false, message: \"L'e-mail est déjà utilisé.\" };\r\n    }\r\n\r\n    const mdpHashe = await argon2.hash(mdp);\r\n    const arrayBuffer = await cv.arrayBuffer();\r\n    const newCv = Buffer.from(arrayBuffer);\r\n\r\n    await db.etudiant.create({\r\n      data: {\r\n        nom,\r\n        prenom,\r\n        email,\r\n        mdp: mdpHashe,\r\n        competences: competences.toString(),\r\n        cv: newCv,\r\n      },\r\n    });\r\n\r\n    return { success: true, message: \"Compte créé avec succès.\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, message: \"Une erreur est survenue.\" };\r\n  }\r\n};\r\n\r\nexport const modifierEtudiant = async ({\r\n  nom,\r\n  prenom,\r\n  email,\r\n  competences,\r\n  cv,\r\n}: {\r\n  nom: string;\r\n  prenom: string;\r\n  email: string;\r\n  competences: string;\r\n  cv: File | undefined;\r\n}): Promise<\r\n  | { success: false; message: string }\r\n  | { success: true; message: \"Informations modifiées avec succès.\" }\r\n> => {\r\n  try {\r\n    const session = await getServerSession(authOptions);\r\n    if (!session) {\r\n      return { success: false, message: \"Vous n'êtes pas connecté.\" };\r\n    }\r\n    const user = await db.etudiant.findUnique({\r\n      where: {\r\n        id: session.user.id,\r\n      },\r\n    });\r\n    if (!user) {\r\n      return { success: false, message: \"Vous n'êtes pas connecté.\" };\r\n    }\r\n\r\n    const emailExist = await db.etudiant.findUnique({\r\n      where: {\r\n        email: email,\r\n      },\r\n    });\r\n    if (emailExist && emailExist.id !== user.id) {\r\n      return { success: false, message: \"Cet email est déjà utilisé.\" };\r\n    }\r\n\r\n    let newCv: Buffer | undefined;\r\n    if (typeof cv !== \"undefined\") {\r\n      console.log(cv);\r\n\r\n      if (!(cv instanceof File)) {\r\n        return { success: false, message: \"Le fichier CV est invalide.\" };\r\n      }\r\n      const arrayBuffer = await cv.arrayBuffer();\r\n      newCv = Buffer.from(arrayBuffer);\r\n    }\r\n\r\n    await db.etudiant.update({\r\n      where: {\r\n        id: user.id,\r\n      },\r\n      data: {\r\n        nom: nom,\r\n        prenom: prenom,\r\n        email: email,\r\n        competences,\r\n        cv: newCv ?? user.cv,\r\n      },\r\n    });\r\n\r\n    return { success: true, message: \"Informations modifiées avec succès.\" };\r\n  } catch (error) {\r\n    console.error(error);\r\n    return { success: false, message: \"Une erreur est survenue.\" };\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;IAsGa,mBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/form/modify/CompanyInformations.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport FileUpload from \"@/components/form/FileUpload\";\r\nimport { FormField } from \"@/components/form/FormField\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { modifierEtudiant } from \"@/lib/actions/etudiant\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport toast from \"react-hot-toast\";\r\nimport { z } from \"zod\";\r\n\r\nexport default function FormModifyInformationsCompany({\r\n  entreprise,\r\n  secteurs,\r\n}: {\r\n  entreprise: {\r\n    nom: string;\r\n    adresse: string;\r\n    email: string;\r\n  };\r\n  secteurs: {\r\n    id: string;\r\n    label: string;\r\n    checked: boolean;\r\n  }[];\r\n}) {\r\n  const router = useRouter();\r\n\r\n  const zodFormSchema = z.object({\r\n    nom: z.string().nonempty(\"Le nom est requis.\"),\r\n    adresse: z.string().nonempty(\"L'adresse est requise.\"),\r\n    email: z\r\n      .string()\r\n      .nonempty(\"L'e-mail est requis\")\r\n      .email(\"L'e-mail est invalide.\"),\r\n    secteurs: z.array(z.string()).min(1, \"Au moins un secteur est requis.\"),\r\n  });\r\n  type FormSchema = z.infer<typeof zodFormSchema>;\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    watch,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<FormSchema>({\r\n    resolver: zodResolver(zodFormSchema),\r\n  });\r\n\r\n  const toggleSecteur = (id: string, checked: boolean) => {\r\n    const current = watch(\"secteurs\") || [];\r\n    const updated = checked\r\n      ? [...current, id]\r\n      : current.filter((secteurId) => secteurId !== id);\r\n\r\n    setValue(\"secteurs\", updated, { shouldValidate: true });\r\n  };\r\n\r\n  const handleSubmitForm = async (data: FormSchema) => {\r\n    const response = await modifierEtudiant({\r\n      nom: data.nom,\r\n      prenom: data.prenom,\r\n      email: data.email,\r\n      competences,\r\n      cv: data.cv,\r\n    });\r\n\r\n    if (response.success) {\r\n      toast.success(response.message);\r\n      router.refresh();\r\n    } else {\r\n      toast.error(response.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex w-full justify-center pt-10\">\r\n      <div className=\"flex w-[80%] flex-col items-center justify-start gap-10\">\r\n        <div className=\"flex w-[700px] justify-start\">\r\n          <h1 className={\"text-left text-3xl font-bold\"}>\r\n            Modifier mes informations\r\n          </h1>\r\n        </div>\r\n        <Card className=\"flex w-[700px] flex-col gap-1\">\r\n          <form onSubmit={handleSubmit(handleSubmitForm)}>\r\n            <CardContent className=\"flex flex-col gap-6 px-6\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <FormField\r\n                  label=\"Nom\"\r\n                  name=\"nom\"\r\n                  type=\"text\"\r\n                  defaultValue={entreprise.nom}\r\n                  register={register}\r\n                  error={errors.nom}\r\n                  icon={\r\n                    <Image\r\n                      src={\"/icon/user.svg\"}\r\n                      alt=\"Icon\"\r\n                      width={700}\r\n                      height={700}\r\n                      className=\"w-4\"\r\n                    />\r\n                  }\r\n                />\r\n                <FormField\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  defaultValue={entreprise.email}\r\n                  register={register}\r\n                  error={errors.email}\r\n                  icon={\r\n                    <Image\r\n                      src={\"/icon/mail.svg\"}\r\n                      alt=\"Icon\"\r\n                      width={700}\r\n                      height={700}\r\n                      className=\"w-4\"\r\n                    />\r\n                  }\r\n                />\r\n              </div>\r\n              <FormField\r\n                label=\"Adresse\"\r\n                name=\"adresse\"\r\n                type=\"text\"\r\n                defaultValue={entreprise.adresse}\r\n                register={register}\r\n                error={errors.adresse}\r\n                icon={\r\n                  <Image\r\n                    src={\"/icon/map-pin.svg\"}\r\n                    alt=\"Icon\"\r\n                    width={700}\r\n                    height={700}\r\n                    className=\"w-4\"\r\n                  />\r\n                }\r\n              />\r\n              <div className=\"flex flex-wrap gap-y-5\">\r\n                {secteurs.map((secteur) => {\r\n                  return (\r\n                    <div\r\n                      key={secteur.id}\r\n                      className=\"flex w-[50%] items-center gap-2\"\r\n                    >\r\n                      <Checkbox\r\n                        id={`secteur-${secteur.id}`}\r\n                        checked={secteur.checked}\r\n                        onCheckedChange={(checked) =>\r\n                          toggleSecteur(secteur.id, Boolean(checked))\r\n                        }\r\n                      />\r\n                      <Label\r\n                        htmlFor={`secteur-${secteur.id}`}\r\n                        className=\"text-sm leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n                      >\r\n                        {secteur.label}\r\n                      </Label>\r\n                    </div>\r\n                  );\r\n                })}\r\n                {errors.secteurs && (\r\n                  <p className=\"text-sm text-red-500\">\r\n                    {errors.secteurs.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <Button\r\n                disabled={isSubmitting}\r\n                variant={`${isSubmitting ? \"disable\" : \"default\"}`}\r\n                className=\"w-full\"\r\n                type=\"submit\"\r\n              >\r\n                {isSubmitting ? (\r\n                  <Loader2 className=\"animate-spin\" />\r\n                ) : (\r\n                  \"Sauvegarder les modifications\"\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </form>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/hooks/use-file-upload.ts"],"sourcesContent":["\"use client\";\n\nimport type React from \"react\";\nimport {\n  useCallback,\n  useRef,\n  useState,\n  type ChangeEvent,\n  type DragEvent,\n  type InputHTMLAttributes,\n} from \"react\";\n\nexport type FileMetadata = {\n  name: string;\n  size: number;\n  type: string;\n  url: string;\n  id: string;\n};\n\nexport type FileWithPreview = {\n  file: File | FileMetadata;\n  id: string;\n  preview?: string;\n};\n\nexport type FileUploadOptions = {\n  maxFiles?: number; // Only used when multiple is true, defaults to Infinity\n  maxSize?: number; // in bytes\n  accept?: string;\n  multiple?: boolean; // Defaults to false\n  initialFiles?: FileMetadata[];\n  onFilesChange?: (files: FileWithPreview[]) => void; // Callback when files change\n  onFilesAdded?: (addedFiles: FileWithPreview[]) => void; // Callback when new files are added\n};\n\nexport type FileUploadState = {\n  files: FileWithPreview[];\n  isDragging: boolean;\n  errors: string[];\n};\n\nexport type FileUploadActions = {\n  addFiles: (files: FileList | File[]) => void;\n  removeFile: (id: string) => void;\n  clearFiles: () => void;\n  clearErrors: () => void;\n  handleDragEnter: (e: DragEvent<HTMLElement>) => void;\n  handleDragLeave: (e: DragEvent<HTMLElement>) => void;\n  handleDragOver: (e: DragEvent<HTMLElement>) => void;\n  handleDrop: (e: DragEvent<HTMLElement>) => void;\n  handleFileChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  openFileDialog: () => void;\n  getInputProps: (\n    props?: InputHTMLAttributes<HTMLInputElement>,\n  ) => InputHTMLAttributes<HTMLInputElement> & {\n    ref: React.Ref<HTMLInputElement>;\n  };\n};\n\nexport const useFileUpload = (\n  options: FileUploadOptions = {},\n): [FileUploadState, FileUploadActions] => {\n  const {\n    maxFiles = Infinity,\n    maxSize = Infinity,\n    accept = \".pdf\",\n    multiple = false,\n    initialFiles = [],\n    onFilesChange,\n    onFilesAdded,\n  } = options;\n\n  const [state, setState] = useState<FileUploadState>({\n    files: initialFiles.map((file) => ({\n      file,\n      id: file.id,\n      preview: file.url,\n    })),\n    isDragging: false,\n    errors: [],\n  });\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const validateFile = useCallback(\n    (file: File | FileMetadata): string | null => {\n      if (file instanceof File) {\n        if (file.size > maxSize) {\n          return `Le fichier \"${\n            file.name\n          }\" dépasse la taille maximum de ${formatBytes(maxSize)}.`;\n        }\n      } else {\n        if (file.size > maxSize) {\n          return `Le fichier \"${\n            file.name\n          }\" dépasse la taille maximum de ${formatBytes(maxSize)}.`;\n        }\n      }\n\n      if (accept !== \"*\") {\n        const acceptedTypes = accept.split(\",\").map((type) => type.trim());\n        const fileType = file instanceof File ? file.type || \"\" : file.type;\n        const fileExtension = `.${\n          file instanceof File\n            ? file.name.split(\".\").pop()\n            : file.name.split(\".\").pop()\n        }`;\n\n        const isAccepted = acceptedTypes.some((type) => {\n          if (type.startsWith(\".\")) {\n            return fileExtension.toLowerCase() === type.toLowerCase();\n          }\n          if (type.endsWith(\"/*\")) {\n            const baseType = type.split(\"/\")[0];\n            return fileType.startsWith(`${baseType}/`);\n          }\n          return fileType === type;\n        });\n\n        if (!isAccepted) {\n          return `\"${\n            file instanceof File ? file.name : file.name\n          }\" a un type de fichier qui n'est pas accepté.`;\n        }\n      }\n\n      return null;\n    },\n    [accept, maxSize],\n  );\n\n  const createPreview = useCallback(\n    (file: File | FileMetadata): string | undefined => {\n      if (file instanceof File) {\n        return URL.createObjectURL(file);\n      }\n      return file.url;\n    },\n    [],\n  );\n\n  const generateUniqueId = useCallback((file: File | FileMetadata): string => {\n    if (file instanceof File) {\n      return `${file.name}-${Date.now()}-${Math.random()\n        .toString(36)\n        .substring(2, 9)}`;\n    }\n    return file.id;\n  }, []);\n\n  const clearFiles = useCallback(() => {\n    setState((prev) => {\n      // Clean up object URLs\n      prev.files.forEach((file) => {\n        if (\n          file.preview &&\n          file.file instanceof File &&\n          file.file.type.startsWith(\"image/\")\n        ) {\n          URL.revokeObjectURL(file.preview);\n        }\n      });\n\n      if (inputRef.current) {\n        inputRef.current.value = \"\";\n      }\n\n      const newState = {\n        ...prev,\n        files: [],\n        errors: [],\n      };\n\n      onFilesChange?.(newState.files);\n      return newState;\n    });\n  }, [onFilesChange]);\n\n  const addFiles = useCallback(\n    (newFiles: FileList | File[]) => {\n      if (!newFiles || newFiles.length === 0) return;\n\n      const newFilesArray = Array.from(newFiles);\n      const errors: string[] = [];\n\n      // Clear existing errors when new files are uploaded\n      setState((prev) => ({ ...prev, errors: [] }));\n\n      // In single file mode, clear existing files first\n      if (!multiple) {\n        clearFiles();\n      }\n\n      // Check if adding these files would exceed maxFiles (only in multiple mode)\n      if (\n        multiple &&\n        maxFiles !== Infinity &&\n        state.files.length + newFilesArray.length > maxFiles\n      ) {\n        errors.push(\n          `Vous ne pouvez qu'ajouter des fichier qui ne dépasse pas ${maxFiles}.`,\n        );\n        setState((prev) => ({ ...prev, errors }));\n        return;\n      }\n\n      const validFiles: FileWithPreview[] = [];\n\n      newFilesArray.forEach((file) => {\n        // Only check for duplicates if multiple files are allowed\n        if (multiple) {\n          const isDuplicate = state.files.some(\n            (existingFile) =>\n              existingFile.file.name === file.name &&\n              existingFile.file.size === file.size,\n          );\n\n          // Skip duplicate files silently\n          if (isDuplicate) {\n            return;\n          }\n        }\n\n        // Check file size\n        if (file.size > maxSize) {\n          errors.push(`Le fichier dépasse ${formatBytes(maxSize)}.`);\n          return;\n        }\n\n        const error = validateFile(file);\n        if (error) {\n          errors.push(error);\n        } else {\n          validFiles.push({\n            file,\n            id: generateUniqueId(file),\n            preview: createPreview(file),\n          });\n        }\n      });\n\n      // Only update state if we have valid files to add\n      if (validFiles.length > 0) {\n        // Call the onFilesAdded callback with the newly added valid files\n        onFilesAdded?.(validFiles);\n\n        setState((prev) => {\n          const newFiles = !multiple\n            ? validFiles\n            : [...prev.files, ...validFiles];\n          onFilesChange?.(newFiles);\n          return {\n            ...prev,\n            files: newFiles,\n            errors,\n          };\n        });\n      } else if (errors.length > 0) {\n        setState((prev) => ({\n          ...prev,\n          errors,\n        }));\n      }\n\n      // Reset input value after handling files\n      if (inputRef.current) {\n        inputRef.current.value = \"\";\n      }\n    },\n    [\n      state.files.length,\n      maxFiles,\n      multiple,\n      maxSize,\n      validateFile,\n      createPreview,\n      generateUniqueId,\n      clearFiles,\n      onFilesChange,\n      onFilesAdded,\n    ],\n  );\n\n  const removeFile = useCallback(\n    (id: string) => {\n      setState((prev) => {\n        const fileToRemove = prev.files.find((file) => file.id === id);\n        if (\n          fileToRemove &&\n          fileToRemove.preview &&\n          fileToRemove.file instanceof File &&\n          fileToRemove.file.type.startsWith(\"image/\")\n        ) {\n          URL.revokeObjectURL(fileToRemove.preview);\n        }\n\n        const newFiles = prev.files.filter((file) => file.id !== id);\n        onFilesChange?.(newFiles);\n\n        return {\n          ...prev,\n          files: newFiles,\n          errors: [],\n        };\n      });\n    },\n    [onFilesChange],\n  );\n\n  const clearErrors = useCallback(() => {\n    setState((prev) => ({\n      ...prev,\n      errors: [],\n    }));\n  }, []);\n\n  const handleDragEnter = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setState((prev) => ({ ...prev, isDragging: true }));\n  }, []);\n\n  const handleDragLeave = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.currentTarget.contains(e.relatedTarget as Node)) {\n      return;\n    }\n\n    setState((prev) => ({ ...prev, isDragging: false }));\n  }, []);\n\n  const handleDragOver = useCallback((e: DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: DragEvent<HTMLElement>) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setState((prev) => ({ ...prev, isDragging: false }));\n\n      // Don't process files if the input is disabled\n      if (inputRef.current?.disabled) {\n        return;\n      }\n\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n        // In single file mode, only use the first file\n        if (!multiple) {\n          const file = e.dataTransfer.files[0];\n          addFiles([file]);\n        } else {\n          addFiles(e.dataTransfer.files);\n        }\n      }\n    },\n    [addFiles, multiple],\n  );\n\n  const handleFileChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      if (e.target.files && e.target.files.length > 0) {\n        addFiles(e.target.files);\n      }\n    },\n    [addFiles],\n  );\n\n  const openFileDialog = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.click();\n    }\n  }, []);\n\n  const getInputProps = useCallback(\n    (props: InputHTMLAttributes<HTMLInputElement> = {}) => {\n      return {\n        ...props,\n        type: \"file\" as const,\n        onChange: handleFileChange,\n        accept: props.accept || accept,\n        multiple: props.multiple !== undefined ? props.multiple : multiple,\n        ref: inputRef,\n      };\n    },\n    [accept, multiple, handleFileChange],\n  );\n\n  return [\n    state,\n    {\n      addFiles,\n      removeFile,\n      clearFiles,\n      clearErrors,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      handleFileChange,\n      openFileDialog,\n      getInputProps,\n    },\n  ];\n};\n\n// Helper function to format bytes to human-readable format\nexport const formatBytes = (bytes: number, decimals = 2): string => {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Number.parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + sizes[i];\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 868, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/form/FileUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { PaperclipIcon, UploadIcon, XIcon } from \"lucide-react\";\n\nimport { formatBytes, useFileUpload } from \"@/hooks/use-file-upload\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect } from \"react\";\n\nexport default function FileUpload({\n  setValue,\n  errorsForm,\n}: {\n  // eslint-disable-next-line\n  setValue: any;\n  errorsForm: string | undefined;\n}) {\n  const maxSize = 10 * 1024 * 1024;\n\n  const [\n    { files, isDragging, errors },\n    {\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      removeFile,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxSize,\n  });\n\n  const file = files[0];\n\n  useEffect(() => {\n    if (file && file.file instanceof File) {\n      setValue(\"cv\", file.file, { shouldValidate: true });\n    }\n  }, [file, setValue]);\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {/* Drop area */}\n      <div\n        role=\"button\"\n        onClick={openFileDialog}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n        data-dragging={isDragging || undefined}\n        className=\"pointer border-input hover:bg-accent/50 data-[dragging=true]:bg-accent/50 has-[input:focus]:border-ring has-[input:focus]:ring-ring/50 flex min-h-40 flex-col items-center justify-center rounded-xl border border-dashed p-4 transition-colors has-disabled:pointer-events-none has-disabled:opacity-50 has-[input:focus]:ring-[3px]\"\n      >\n        <input\n          id=\"cv\"\n          {...getInputProps()}\n          className=\"sr-only\"\n          aria-label=\"Upload file\"\n          disabled={Boolean(file)}\n        />\n\n        <div className=\"flex flex-col items-center justify-center text-center\">\n          <div\n            className=\"bg-background mb-2 flex size-11 shrink-0 items-center justify-center rounded-full border\"\n            aria-hidden=\"true\"\n          >\n            <UploadIcon className=\"size-4 opacity-60\" />\n          </div>\n          <p className=\"mb-1.5 text-sm font-medium\">Ajouter votre CV</p>\n          <p className=\"text-muted-foreground text-xs\">\n            Glisser-déposer ou cliquez pour parcourir (max.{\" \"}\n            {formatBytes(maxSize)})\n          </p>\n        </div>\n      </div>\n\n      {errorsForm && <p className=\"text-sm text-red-500\">{errorsForm}</p>}\n      {errors.length > 0 && <p className=\"text-sm text-red-500\">{errors[0]}</p>}\n\n      {/* File list */}\n      {file && (\n        <div className=\"space-y-2\">\n          <div\n            key={file.id}\n            className=\"flex items-center justify-between gap-2 rounded-xl border px-4 py-2\"\n          >\n            <div className=\"flex items-center gap-3 overflow-hidden\">\n              <PaperclipIcon\n                className=\"size-4 shrink-0 opacity-60\"\n                aria-hidden=\"true\"\n              />\n              <div className=\"min-w-0\">\n                <p className=\"truncate text-[13px] font-medium\">\n                  {file.file.name}\n                </p>\n              </div>\n            </div>\n\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"text-muted-foreground/80 hover:text-foreground -me-2 size-8 hover:bg-transparent\"\n              onClick={() => removeFile(files[0]?.id)}\n              aria-label=\"Remove file\"\n            >\n              <XIcon className=\"size-4\" aria-hidden=\"true\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AANA;;;;;;AAQe,SAAS,WAAW,EACjC,QAAQ,EACR,UAAU,EAKX;IACC,MAAM,UAAU,KAAK,OAAO;IAE5B,MAAM,CACJ,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,EAC7B,EACE,eAAe,EACf,eAAe,EACf,cAAc,EACd,UAAU,EACV,cAAc,EACd,UAAU,EACV,aAAa,EACd,CACF,GAAG,CAAA,GAAA,8HAAA,CAAA,gBAAa,AAAD,EAAE;QAChB;IACF;IAEA,MAAM,OAAO,KAAK,CAAC,EAAE;IAErB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ,KAAK,IAAI,YAAY,MAAM;YACrC,SAAS,MAAM,KAAK,IAAI,EAAE;gBAAE,gBAAgB;YAAK;QACnD;IACF,GAAG;QAAC;QAAM;KAAS;IAEnB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,MAAK;gBACL,SAAS;gBACT,aAAa;gBACb,aAAa;gBACb,YAAY;gBACZ,QAAQ;gBACR,iBAAe,cAAc;gBAC7B,WAAU;;kCAEV,8OAAC;wBACC,IAAG;wBACF,GAAG,eAAe;wBACnB,WAAU;wBACV,cAAW;wBACX,UAAU,QAAQ;;;;;;kCAGpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,eAAY;0CAEZ,cAAA,8OAAC,0MAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;0CAExB,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,8OAAC;gCAAE,WAAU;;oCAAgC;oCACK;oCAC/C,CAAA,GAAA,8HAAA,CAAA,cAAW,AAAD,EAAE;oCAAS;;;;;;;;;;;;;;;;;;;YAK3B,4BAAc,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;YACnD,OAAO,MAAM,GAAG,mBAAK,8OAAC;gBAAE,WAAU;0BAAwB,MAAM,CAAC,EAAE;;;;;;YAGnE,sBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAEC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,gNAAA,CAAA,gBAAa;oCACZ,WAAU;oCACV,eAAY;;;;;;8CAEd,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDACV,KAAK,IAAI,CAAC,IAAI;;;;;;;;;;;;;;;;;sCAKrB,8OAAC,2HAAA,CAAA,SAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,WAAW,KAAK,CAAC,EAAE,EAAE;4BACpC,cAAW;sCAEX,cAAA,8OAAC,gMAAA,CAAA,QAAK;gCAAC,WAAU;gCAAS,eAAY;;;;;;;;;;;;mBAtBnC,KAAK,EAAE;;;;;;;;;;;;;;;;AA6BxB","debugId":null}},
    {"offset": {"line": 1071, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simon.cdt/Documents/StagesInfo/application/components/form/modify/StudentInformations.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport FileUpload from \"@/components/form/FileUpload\";\r\nimport { FormField } from \"@/components/form/FormField\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { modifierEtudiant } from \"@/lib/actions/etudiant\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport toast from \"react-hot-toast\";\r\nimport { z } from \"zod\";\r\n\r\nexport default function FormModifyInformationsStudent({\r\n  etudiant,\r\n}: {\r\n  etudiant: {\r\n    nom: string;\r\n    prenom: string;\r\n    email: string;\r\n    competences: string;\r\n  };\r\n}) {\r\n  const router = useRouter();\r\n\r\n  const zodFormSchema = z.object({\r\n    nom: z.string().nonempty(\"Le nom est requis.\"),\r\n    prenom: z.string().nonempty(\"Le prénom est requis.\"),\r\n    email: z\r\n      .string()\r\n      .nonempty(\"L'e-mail est requis\")\r\n      .email(\"L'e-mail est invalide.\")\r\n      .refine((val) => val.endsWith(\"@eduge.ch\"), {\r\n        message: \"L'email doit se terminer par @eduge.ch.\",\r\n      }),\r\n    cv: z.custom<File>().optional(),\r\n    competences: z\r\n      .array(z.string())\r\n      .max(5, \"Vous ne pouvez pas ajouter plus de 5 compétences.\")\r\n      .optional(),\r\n  });\r\n  type FormSchema = z.infer<typeof zodFormSchema>;\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm<FormSchema>({\r\n    resolver: zodResolver(zodFormSchema),\r\n  });\r\n\r\n  const [competences, setCompetences] = useState<string[]>(\r\n    etudiant.competences.length > 0 ? etudiant.competences.split(\",\") : [],\r\n  );\r\n  const [nouvelleCompetence, setNouvelleCompetence] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setValue(\"competences\", competences);\r\n  }, [competences, setValue]);\r\n\r\n  const ajouterCompetence = () => {\r\n    if (nouvelleCompetence.trim() && competences.length < 5) {\r\n      setCompetences([...competences, nouvelleCompetence.trim()]);\r\n      setNouvelleCompetence(\"\");\r\n    }\r\n  };\r\n\r\n  const supprimerCompetence = (index: number) => {\r\n    setCompetences(competences.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      ajouterCompetence();\r\n    }\r\n  };\r\n\r\n  const handleSubmitForm = async (data: FormSchema) => {\r\n    const competences =\r\n      data.competences && data.competences?.length > 0\r\n        ? data.competences?.join(\",\")\r\n        : \"\";\r\n\r\n    const response = await modifierEtudiant({\r\n      nom: data.nom,\r\n      prenom: data.prenom,\r\n      email: data.email,\r\n      competences,\r\n      cv: data.cv,\r\n    });\r\n\r\n    if (response.success) {\r\n      toast.success(response.message);\r\n      router.refresh();\r\n    } else {\r\n      toast.error(response.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"flex w-full justify-center pt-10\">\r\n      <div className=\"flex w-[80%] flex-col items-center justify-start gap-10\">\r\n        <div className=\"flex w-[700px] justify-start\">\r\n          <h1 className={\"text-left text-3xl font-bold\"}>\r\n            Modifier mes informations\r\n          </h1>\r\n        </div>\r\n        <Card className=\"flex w-[700px] flex-col gap-1\">\r\n          <form onSubmit={handleSubmit(handleSubmitForm)}>\r\n            <CardContent className=\"flex flex-col gap-6 px-6\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <FormField\r\n                  label=\"Nom\"\r\n                  name=\"nom\"\r\n                  type=\"text\"\r\n                  defaultValue={etudiant.nom}\r\n                  register={register}\r\n                  error={errors.prenom}\r\n                  icon={\r\n                    <Image\r\n                      src={\"/icon/user.svg\"}\r\n                      alt=\"Icon\"\r\n                      width={700}\r\n                      height={700}\r\n                      className=\"w-4\"\r\n                    />\r\n                  }\r\n                />\r\n                <FormField\r\n                  label=\"Prénom\"\r\n                  name=\"prenom\"\r\n                  type=\"text\"\r\n                  defaultValue={etudiant.prenom}\r\n                  placeholder=\"Votre prénom\"\r\n                  register={register}\r\n                  error={errors.prenom}\r\n                  icon={\r\n                    <Image\r\n                      src={\"/icon/user.svg\"}\r\n                      alt=\"Icon\"\r\n                      width={700}\r\n                      height={700}\r\n                      className=\"w-4\"\r\n                    />\r\n                  }\r\n                />\r\n              </div>\r\n              <FormField\r\n                label=\"E-mail\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                defaultValue={etudiant.email}\r\n                placeholder=\"exemple@eduge.ch\"\r\n                register={register}\r\n                error={errors.email}\r\n                icon={\r\n                  <Image\r\n                    src={\"/icon/mail.svg\"}\r\n                    alt=\"Icon\"\r\n                    width={700}\r\n                    height={700}\r\n                    className=\"w-4\"\r\n                  />\r\n                }\r\n              />\r\n              <div className=\"flex flex-col gap-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label htmlFor=\"cv\">CV (PDF)</Label>\r\n                  <Link\r\n                    href={\"/account/cv\"}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <Button type=\"button\" variant={\"outline\"}>\r\n                      CV actuel\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n                <FileUpload\r\n                  errorsForm={errors.cv?.message}\r\n                  setValue={setValue}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex flex-col gap-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label htmlFor=\"competences\">Compétences (5 max)</Label>\r\n                  <span className=\"text-muted-foreground text-xs\">\r\n                    {competences ? competences.length : \"0\"}/5\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {competences &&\r\n                    competences.map((c, i) => (\r\n                      <Badge\r\n                        key={i}\r\n                        variant=\"secondary\"\r\n                        className=\"py-1 pr-1 pl-2\"\r\n                      >\r\n                        {c}\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          className=\"ml-1 h-4 w-4\"\r\n                          onClick={() => supprimerCompetence(i)}\r\n                        >\r\n                          <Image\r\n                            src={\"/icon/xmark.svg\"}\r\n                            alt=\"icon\"\r\n                            width={700}\r\n                            height={700}\r\n                            className=\"w-4\"\r\n                          />\r\n                        </Button>\r\n                      </Badge>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                  <Input\r\n                    id=\"competences\"\r\n                    placeholder=\"Ajouter une compétence\"\r\n                    value={nouvelleCompetence}\r\n                    onChange={(e) => setNouvelleCompetence(e.target.value)}\r\n                    onKeyDown={handleKeyPress}\r\n                    disabled={competences && competences.length >= 5}\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    size=\"icon\"\r\n                    onClick={ajouterCompetence}\r\n                    disabled={\r\n                      (competences && competences.length >= 5) ||\r\n                      !nouvelleCompetence.trim()\r\n                    }\r\n                  >\r\n                    <Image\r\n                      src={\"/icon/plus.svg\"}\r\n                      alt=\"Icon\"\r\n                      width={700}\r\n                      height={700}\r\n                      color=\"white\"\r\n                      className=\"w-6\"\r\n                    />\r\n                  </Button>\r\n                </div>\r\n                <p className=\"text-muted-foreground text-xs\">\r\n                  Appuyez sur Entrée ou cliquez sur le bouton + pour ajouter\r\n                </p>\r\n                {errors.competences && (\r\n                  <small className=\"font-medium text-red-500\">\r\n                    {errors.competences.message}\r\n                  </small>\r\n                )}\r\n              </div>\r\n              <Button\r\n                disabled={isSubmitting}\r\n                variant={`${isSubmitting ? \"disable\" : \"default\"}`}\r\n                className=\"w-full\"\r\n                type=\"submit\"\r\n              >\r\n                {isSubmitting ? (\r\n                  <Loader2 className=\"animate-spin\" />\r\n                ) : (\r\n                  \"Sauvegarder les modifications\"\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </form>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}